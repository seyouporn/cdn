!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):((e=e||self).flowplayer=e.flowplayer||{},e.flowplayer.context_menu=t())}(this,(function(){"use strict";var e=[].slice;function t(e){return e.emit=function(t,n,r){r=r||{};var o=function(e){var t=document.createEvent("Event");return t.initEvent(e,!1,!0),t}(t);return n&&function(e,t){for(var n in t)e[n]=t[n]}(o,{data:n||{}}),e.dispatchEvent(o),!1===r.return_self?o:e},e.on=function(t,n){return"string"==typeof t&&(t=t.split(" ")),t.forEach((function(t){e.addEventListener(t,n)})),e},e.off=function(t,n){return e.removeEventListener(t,n),e},e.one=e.once=function(t,n){return e.on(t,(function r(o){e.off(t,r),n(o)}))},e}var n="",r=" ",o=Array.isArray,i="undefined"!=typeof window&&t(window),a="undefined"!=typeof document&&t(document),u=["span","a","em","p","i"],s=u.concat(["div","strong","video","img","ol","ul","li","script"]),f="__flowplayer__";function c(e,t,n){var r=d(document.createElement(e));if(o(t)&&(n=t,t=!1),o(n)||(n=[n]),r.append(n.filter((function(e){return e}))),"object"!=typeof t)return r;for(var i in t)i in r?r[i]=t[i]:r.setAttribute(i,t[i]);return r}function l(t){var i=t.tagName;t[f]=1,t.find=function(e){var n=t.querySelector(e);return n?d(n):n},t.html=function(e){return t.innerHTML=e,t},t.empty=function(){return t.innerHTML=n,t},t.offset=function(){var e={top:0,left:0},n=t;do{e.left+=n.offsetLeft||0,e.top+=n.offsetTop||0}while(n=n.offsetParent);return e},t.innerWidth=function(){var e=getComputedStyle(t);return t.clientWidth-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)};var a=t.insert=function(e,n){return o(n)?n.map((function(n){return t.insert(e,n)}))[0]:d(n="string"==typeof n?t.insertAdjacentHTML(e,n):t.insertAdjacentElement?t.insertAdjacentElement(e,n):t.appendChild(n))};return t.append=a.bind(t,"beforeend"),t.prepend=a.bind(t,"afterbegin"),t.css=function(e,n){if("object"==typeof e){for(var r in e)t.css(r,e[r]);return t}return void 0===n?getComputedStyle(t)[e]:(1*n&&(n+="px"),t.style[e]=n,t)},t.show=function(){return t.css({display:~u.indexOf(i)?"inline":"block"})},t.hide=function(){return t.css({display:"none"})},t.remove=function(){var e=t.parentNode;e&&e.removeChild(t)},t.attr=function(e,n){return null==n?t.getAttribute(e):(t.setAttribute(e,n),t)},t.txt=function(e){return t.textContent=e,t},t.fp=function(e){return t.addClass("fp-"+e)},t.addClass=function(e){return e.split(r).forEach((function(e){t.hasClass(e)||(t.className+=(t.className?r:n)+e)})),t},t.removeClass=function(e){e=e.split(r);var n=t.className.split(r);return t.className=n.filter((function(t){return!~e.indexOf(t)})).join(" "),t},t.toggleClass=function(e,n){return void 0===n&&(n=!t.hasClass(e)),n?t.addClass(e):t.removeClass(e)},t.findAll=function(n){return r=t.querySelectorAll(n),e.call(r);var r},t.hasClass=function(e){return~t.className.split(r).indexOf(e)},t}function d(e){return void 0===e?e:function(e){return e&&e[f]}(e)?e:l(t(e))}function E(e,t){if("string"==typeof e&&"<"==e[0])return c(e.slice(1,-1),t);if("string"!=typeof e)return d(e);var n=t instanceof HTMLElement&&t.querySelector(".fp-"+e)||document.querySelector(e);return n?d(n):void 0}E.window=i,E.document=a,E.el=c,s.forEach((function(e){E[e]=function(t,n){return"string"==typeof t&&(t={class:t}),c(e,t,n)}}));var p={MOUNT:"mount",ERROR:"error",CONTEXT_MENU:"contextmenu",CLICK:"click",DBL_CLICK:"dblclick",KEYUP:"keyup",KEYDOWN:"keydown",LOAD:"load",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_MOVE:"mousemove",TOUCH_START:"touchstart",TOUCH_MOVE:"touchmove",TOUCH_END:"touchend",TOUCH_CANCEL:"touchcancel",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_ENTER:"fullscreenenter",FULLSCREEN_EXIT:"fullscreenexit",FULLSCREEN_CHANGE:"fullscreenchange",WEBKIT_NEEDKEY:"webkitneedkey",METADATA:"loadedmetadata",DATA:"loadeddata",PROGRESS:"progress",TIME_UPDATE:"timeupdate",LOAD_START:"loadstart",VOLUME_CHANGE:"volumechange",PAUSE:"pause",PLAYING:"playing",PLAY:"play",WAITING:"waiting",CAN_PLAY:"canplay",ENDED:"ended",SEEKED:"seeked",SEEKING:"seeking",DURATION_CHANGE:"durationchange",BEFORE_PLAY:"beforeplay",BEFORE_PAUSE:"beforepause",STATE:"state",CUEPOINTS:"cuepoints",CUEPOINT_START:"cuepointstart",CUEPOINT_END:"cuepointend",VIEW_ENTER:"viewenter",VIEW_LEAVE:"viewleave",SOURCE:"src",RECOVER:"recover",REAP:"reap",CONFIG:"config",QUALITIES:"qualities",SET_QUALITY:"quality:set",NON_RECOVERABLE_ERROR:"error:fatal",RECOMMENDATIONS_READY:"recommendationsready",AUDIO_ONLY_SOURCE:"audioonlysource"};var m,v,C=(v={val:m},function(e){return void 0!==e&&(v.val=e),v.val}),y="fp-active",A="fp-context-menu fp-menu",N=[{text:"Flowplayer Â© "+(new Date).getFullYear()},{href:"https://flowplayer.com",text:"About this player"},{href:"https://flowplayer.com/license/",text:"GPL based license"}];function O(e){if(e.html)return E(e.html);var t=this,n={},r=e.onclick;e.class&&(n.class=e.class),e.href&&(n.href=e.href);var o=e.href?E.a(e):E.span(e);return e.text&&o.txt(e.text),r&&o.on(p.CLICK,(function(e){r&&r(e,t)})),o}function T(e,t,n){if(~location.hostname.indexOf(".")||e.debug){var r=e.context_menu||N,o=t.ui.append(E.div(A,r.map(O,n)));t.ui.on(p.CONTEXT_MENU,(function(e){if(o.parentNode){e.preventDefault(),n.emit(p.CONTEXT_MENU);var r=t.offset();o.css({left:e.clientX-window.scrollX-r.left+2,top:e.clientY+window.scrollY-r.top-5}),o.hasClass(y)||(o.addClass(y),C(o))}}))}}return E.document.on([p.CLICK,p.KEYUP],(function(e){var t=C();t&&3!=e.which&&t.removeClass(y)})),function(e,t){if("object"==typeof exports&&"undefined"!=typeof module)return t;"flowplayer"in e||(e.flowplayer={extensions:[]});var n=e.flowplayer;"function"==typeof n?n(t):(Array.isArray(n.extensions)||(n.extensions=[]),~n.extensions.indexOf(t)||n.extensions.push(t))}(window,T),T}));
