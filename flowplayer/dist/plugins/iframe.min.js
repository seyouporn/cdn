!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):((e=e||self).flowplayer=e.flowplayer||{},e.flowplayer.iframe=n())}(this,(function(){"use strict";var e={MOUNT:"mount",ERROR:"error",CONTEXT_MENU:"contextmenu",CLICK:"click",DBL_CLICK:"dblclick",KEYUP:"keyup",KEYDOWN:"keydown",LOAD:"load",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_MOVE:"mousemove",TOUCH_START:"touchstart",TOUCH_MOVE:"touchmove",TOUCH_END:"touchend",TOUCH_CANCEL:"touchcancel",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_ENTER:"fullscreenenter",FULLSCREEN_EXIT:"fullscreenexit",FULLSCREEN_CHANGE:"fullscreenchange",WEBKIT_NEEDKEY:"webkitneedkey",METADATA:"loadedmetadata",DATA:"loadeddata",PROGRESS:"progress",TIME_UPDATE:"timeupdate",LOAD_START:"loadstart",VOLUME_CHANGE:"volumechange",PAUSE:"pause",PLAYING:"playing",PLAY:"play",WAITING:"waiting",CAN_PLAY:"canplay",ENDED:"ended",SEEKED:"seeked",SEEKING:"seeking",DURATION_CHANGE:"durationchange",BEFORE_PLAY:"beforeplay",BEFORE_PAUSE:"beforepause",STATE:"state",CUEPOINTS:"cuepoints",CUEPOINT_START:"cuepointstart",CUEPOINT_END:"cuepointend",VIEW_ENTER:"viewenter",VIEW_LEAVE:"viewleave",SOURCE:"src",RECOVER:"recover",REAP:"reap",CONFIG:"config",QUALITIES:"qualities",SET_QUALITY:"quality:set",NON_RECOVERABLE_ERROR:"error:fatal",RECOMMENDATIONS_READY:"recommendationsready",AUDIO_ONLY_SOURCE:"audioonlysource"};function n(e,n,t){for(n=function(e){return Array.isArray(e)?e.slice(0):e.split(".")}(n);n.length;){if(null==e)return t;e=e[n.shift()]}return null==e?t:e}function t(n,t,o){o.setOpts({auto_orient:!1}),o.on(e.FULLSCREEN_ENTER,(function(){document.fullscreenEnabled||(o.webkitEnterFullscreen(),o.one("webkitendfullscreen",(function(){o.emit(e.FULLSCREEN_EXIT)})),o.on(e.ENDED,(function(){o.webkitExitFullscreen()})))}))}(function(){try{return window.self!==window.top}catch(e){return!0}})()&&(!function(e,n){if("object"==typeof exports&&"undefined"!=typeof module)return n;"flowplayer"in e||(e.flowplayer={extensions:[]});var t=e.flowplayer;"function"==typeof t?t(n):(Array.isArray(t.extensions)||(t.extensions=[]),~t.extensions.indexOf(n)||t.extensions.push(n))}(window,t),window.addEventListener("message",(function(e){if(t.is_flowplayer_message(e.data)){var o=n(window,"flowplayer.instances",[]),r=n(o,"0");if(r)switch(o.length>1&&console.warn("Multiple player instances in iframe. Messaging supported with first instance only."),t.message_body(e.data)){case"pause":return r.togglePlay(!1);case"play":return r.togglePlay(!0)}}})));return t.is_flowplayer_message=function(e){return"string"==typeof e&&"flowplayer://"==e.slice(0,"flowplayer://".length)},t.message_body=function(e){return e.slice("flowplayer://".length)},t}));
